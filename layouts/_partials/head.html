<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>
  {{ if .IsHome }}
    {{ .Site.Title }}
  {{ else }}
    {{ .Title }} |
    {{ .Site.Title }}
  {{ end }}

</title>

<!-- SEO Meta Tags -->
<meta
  name="description"
  content="{{ .Params.description | default .Summary | default .Site.Params.description }}"
/>
<meta
  name="keywords"
  content="{{ if .Params.keywords }}
    {{ delimit .Params.keywords "," }}
  {{ else }}
    {{ delimit .Site.Params.keywords "," }}
  {{ end }}"
/>
<meta name="author" content="{{ .Site.Params.author }}" />

<!-- Open Graph -->
<meta
  property="og:title"
  content="{{ if .IsHome }}
    {{ .Site.Title }}
  {{ else }}
    {{ .Title }} |
    {{ .Site.Title }}
  {{ end }}"
/>
<meta
  property="og:description"
  content="{{ .Params.description | default .Summary | default .Site.Params.description }}"
/>
<meta
  property="og:type"
  content="{{ if .IsHome }}
    website
  {{ else }}
    article
  {{ end }}"
/>
<meta property="og:url" content="{{ .Permalink }}" />
<meta
  property="og:image"
  content="{{ absURL (.Site.Params.og_image | default "/images/selora-og-image.jpg") }}"
/>

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image" />
<meta
  name="twitter:title"
  content="{{ if .IsHome }}
    {{ .Site.Title }}
  {{ else }}
    {{ .Title }} |
    {{ .Site.Title }}
  {{ end }}"
/>
<meta
  name="twitter:description"
  content="{{ .Params.description | default .Summary | default .Site.Params.description }}"
/>
<meta
  name="twitter:image"
  content="{{ absURL (.Site.Params.og_image | default "/images/selora-og-image.jpg") }}"
/>

<!-- Favicon -->
<link
  rel="icon"
  type="image/png"
  sizes="32x32"
  href="{{ "selora-logo.png" | relURL }}"
/>
<link
  rel="icon"
  type="image/png"
  sizes="192x192"
  href="{{ "selora-logo.png" | relURL }}"
/>
<link rel="apple-touch-icon" href="{{ "selora-logo.png" | relURL }}" />

<link rel="canonical" href="{{ .Permalink }}" />

{{ $opts := dict "targetPath" "js/bundle.js" "minify" (not hugo.IsDevelopment) "format" "iife" }}
{{ with resources.Get "js/main.js" | js.Build $opts }}
  {{ if hugo.IsDevelopment }}
    <script src="{{ .RelPermalink }}" defer></script>
  {{ else }}
    {{ with . | fingerprint }}
      <script
        src="{{ .RelPermalink }}"
        integrity="{{ .Data.Integrity }}"
        crossorigin="anonymous"
        defer
      ></script>
    {{ end }}
  {{ end }}
{{ end }}

{{ with (templates.Defer (dict "key" "global")) }}
  {{ partial "css.html" . }}
{{ end }}
